mapscripts BlankMap_MapScripts {
    MAP_SCRIPT_ON_TRANSITION {
        if (var(VAR_AKIHIKOS_INTRO_STATE) > 0) {setflag(FLAG_SPAWN_INVISIBLE)}
    }
    MAP_SCRIPT_ON_FRAME_TABLE [
        VAR_AKIHIKOS_INTRO_STATE, 7: SunshineWoods_Eventscript_WarpBackToOrphanage
        VAR_AKIHIKOS_INTRO_STATE, 9: SunshineOrphanageMainHall_Eventscript_WarpBackToAkihikosRoom
        VAR_AKIHIKOS_INTRO_STATE, 13: SunshineTown_PokemonCenter_Eventscript_Onframe13]
}


script SunshineWoods_Eventscript_WarpBackToOrphanage {
    lock
    msgbox(format("{DESTROY_MUGSHOT} Akihiko picked up the Pawmi and hurried back to the orphanage."))
    closemessage
    fadescreenswapbuffers(FADE_TO_BLACK,0)
    warp(MAP_SUNSHINE_ORPHANAGE_MAIN_HALL, 12, 22)
    clearflag(FLAG_SPAWN_INVISIBLE)
    release
}

script SunshineOrphanageMainHall_Eventscript_WarpBackToAkihikosRoom {
    lockall
    warpsilent(MAP_SUNSHINE_ORPHANAGE_AKIHIKOS_ROOM2F, 3, 7)
    clearflag(FLAG_SPAWN_INVISIBLE)
    releaseall
}

script SunshineTown_PokemonCenter_Eventscript_Onframe13 {
    lock
    msgbox("10 minutes later...")
    closemessage
    setvar(VAR_AKIHIKOS_INTRO_STATE, 14)
    warpsilent(MAP_SUNSHINE_TOWN_POKEMON_CENTER, 11, 8)
    clearflag(FLAG_SPAWN_INVISIBLE)
    release
}